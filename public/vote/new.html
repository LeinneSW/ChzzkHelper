<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>채팅 투표/추첨기</title>
    <script src="./data/vote.js"></script>
    <link rel="stylesheet" href="./data/vote_new.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body onload="connect()">
    <!-- <div id="userList" style="border-right: 2px solid black; width: 240px"> -->
    <div class="d-flex flex-column border bg-body-tertiary" style="width: 240px">
        <div id="voteUserListTitle" class="border-bottom text-center">
            <span id="voteUserCurrent">0명</span>
            <span id="voteUserTotal">(총 0명)</span>
        </div>
        <div id="userList" class="flex-grow-1"></div>
        <button class="btn btn-primary" style="height: 64px;" onclick="alert('준비중입니다.')">추첨</button>
    </div>
    <!-- <div id="userList" class="border bg-body-tertiary" style="width: 240px">
        <div id="voteUserListTitle" class="border-bottom text-center">
            <span id="voteUserCurrent">0명</span>
            <span id="voteUserTotal">(총 0명)</span>
        </div>
    </div> -->
    <div style="display: flex; flex-direction: column; flex: 1; margin: 0 20px;">
        <div class="title">숫자 투표</div>
        <hr>
        <div class="d-flex gap-3 w-100">
            <button id="startBtn" class="btn btn-primary btn-lg flex-grow-1" onclick="startVote(event)">시작</button>
            <button id="endBtn" class="btn btn-primary btn-lg flex-grow-1" onclick="endVote(event)" disabled>마감</button>
        </div>
        <div class="d-flex gap-2 w-auto mt-3">
            <div style="flex: 1">득표 현황</div>
            <button id="hideBtn" class="btn btn-secondary btn-sm" onclick="changeCountVisibility(event)">숨기기</button>
        </div>
        <!-- <div style="display: flex; width: calc(100% - 20px); margin: 10px;">
        </div> -->
        <hr >
        <ol id="voteOrderList" style="font-size: 30px; margin: 20px">
            <li onclick="this.children[0]?.focus()">
                <input class="input" type="text" placeholder="새 항목 추가" onfocusout="focusEvent(event)" spellcheck="false">
                <span></span>
            </li>
        </ol>
    </div>
    <div style="display: flex; flex-direction: column; flex: 1; border-left: 2px solid black">
        <div class="title text-center" style="border-bottom: 2px solid #000; padding: 14px">실시간 채팅</div>
        <div id="chatBox"></div>
        <div id="chatInputBox">
            <input id="chatInput" type="text" placeholder="채팅을 입력해주세요" onkeypress="event.keyCode === 13 && sendChat(this)" style="flex: 1">
            <button onclick="sendChat()">전송</button>
        </div>
    </div>
</body>
</html>